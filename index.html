<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Math Question Builder</title>

        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- MathQuill Stylesheet -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css">

        <!-- MathQuill JS - Ensure It Loads Before script.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.js"></script>


        <!-- MathJax & PDF Libraries -->
        <script src="script.js" defer></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.16.0/pdf-lib.min.js"></script>

        <!-- CKEditor 5 (Classic Build with MathJax) -->
        <script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>

        <!-- MathJax for rendering math inside CKEditor -->
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>


        <!-- Custom Tailwind Config -->
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            primary: '#2563EB',   /* Blue */
                            secondary: '#9333EA', /* Purple */
                            accent: '#F59E0B',    /* Orange */
                            success: '#10B981',   /* Green */
                            danger: '#EF4444',    /* Red */
                            darkBg: '#1F2937',    /* Dark Gray */
                        }
                    }
                }
            };
        </script>
    </head>

    <body class="bg-gray-100 font-sans">
        <div class="max-w-4xl mx-auto mt-10 bg-white p-8 rounded-lg shadow-lg">
            <h1 class="text-3xl font-bold text-center text-primary">📖 Math Question Builder</h1>
            <p class="text-center text-gray-500 mt-2">Easily create, save, and export math questions.</p>

            <!-- Status Message -->
            <div id="status-message" class="hidden text-center mt-4 p-2 bg-green-100 text-green-700 rounded-lg"></div>

            <!-- Document Metadata -->
            <div class="mt-6 space-y-4">
                <div>
                    <label class="block text-gray-700 font-medium">📌 Document Title:</label>
                    <input type="text" id="doc-title" class="w-full p-3 border border-gray-300 rounded-md focus:ring focus:ring-primary mt-1" placeholder="Enter title...">
                </div>

                <div>
                    <label class="block text-gray-700 font-medium">👤 Author:</label>
                    <input type="text" id="doc-author" class="w-full p-3 border border-gray-300 rounded-md focus:ring focus:ring-primary mt-1" placeholder="Enter author name...">
                </div>

                <div>
                    <label class="block text-gray-700 font-medium">📅 Date:</label>
                    <input type="date" id="doc-date" class="w-full p-3 border border-gray-300 rounded-md focus:ring focus:ring-primary mt-1">
                </div>
            </div>

            <!-- Question Container -->
            <div id="question-container" class="mt-6 space-y-4"></div>

            <!-- Buttons -->
            <div class="flex justify-between mt-6">
                <button id="add-question" class="bg-primary text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition shadow-md">
                    ➕ Add Question
                </button>
                <button id="undo-action" class="bg-danger text-white py-3 px-4 rounded-lg hover:bg-red-600 transition shadow-md">
                    🔄 Undo Last Action
                </button>
            </div>

            <!-- Action Buttons -->
            <div class="grid grid-cols-2 gap-4 mt-8">
                <button id="save-progress" class="bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition shadow-md">
                    💾 Save Progress
                </button>
                <button id="export-json" class="bg-accent text-white py-3 px-4 rounded-lg hover:bg-yellow-500 transition shadow-md">
                    📁 Export JSON
                </button>
                <button id="export-latex" class="bg-secondary text-white py-3 px-4 rounded-lg hover:bg-purple-600 transition shadow-md">
                    📜 Export LaTeX
                </button>
                <button id="export-pdf" class="bg-teal-500 text-white py-3 px-4 rounded-lg hover:bg-teal-600 transition shadow-md">
                    📄 Export PDF
                </button>
                <button id="reset-page" class="bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition shadow-md col-span-2">
                    🔄 Reset
                </button>
            </div>
            

            <!-- Help Button -->
            <div class="text-center mt-6">
                <a href="help.html" class="text-blue-500 underline hover:text-blue-700">📖 Need Help?</a>
            </div>
        </div>

        <!-- JavaScript -->
        <script src="script.js"></script>
    </body>
</html>

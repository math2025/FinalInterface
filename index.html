<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Math Question Builder</title>

  <!-- ✅ Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ✅ MathQuill -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.js"></script>

  <!-- ✅ CKEditor 5 -->
  <script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>

  <!-- ✅ MathJax -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <!-- ✅ PDF-lib -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.16.0/pdf-lib.min.js"></script>

  <!-- ✅ Custom Tailwind Config -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#2563EB',
            secondary: '#9333EA',
            accent: '#F59E0B',
            success: '#10B981',
            danger: '#EF4444',
            darkBg: '#1F2937',
          }
        }
      }
    };
  </script>

  <!-- ✅ Modular Scripts -->
  <script src="js/utils.js" defer></script>
  <script src="js/editor.js" defer></script>
  <script src="js/questionManager.js" defer></script>
  <script src="js/storage.js" defer></script>
  <script src="js/exportJson.js" defer></script>
  <script src="js/exportLatex.js" defer></script>
  <script src="js/exportPdf.js" defer></script>
  <script src="js/init.js" defer></script>
</head>

<body class="bg-gray-100 font-sans">
  <div class="max-w-4xl mx-auto mt-10 bg-white p-8 rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold text-center text-primary">📖 Math Question Builder</h1>
    <p class="text-center text-gray-500 mt-2">Easily create, save, and export math questions.</p>

    <!-- Status Message -->
    <div id="status-message" class="hidden text-center mt-4 p-2 bg-green-100 text-green-700 rounded-lg"></div>

    <!-- Metadata -->
    <div class="mt-6 space-y-4">
      <div>
        <label class="block text-gray-700 font-medium">📌 Document Title:</label>
        <input type="text" id="doc-title" class="w-full p-3 border border-gray-300 rounded-md mt-1" placeholder="Enter title...">
      </div>
      <div>
        <label class="block text-gray-700 font-medium">👤 Author:</label>
        <input type="text" id="doc-author" class="w-full p-3 border border-gray-300 rounded-md mt-1" placeholder="Enter author name...">
      </div>
      <div>
        <label class="block text-gray-700 font-medium">📅 Date:</label>
        <input type="date" id="doc-date" class="w-full p-3 border border-gray-300 rounded-md mt-1">
      </div>
    </div>

    <!-- Questions -->
    <div id="question-container" class="mt-6 space-y-4"></div>

    <!-- Buttons -->
    <div class="flex justify-between mt-6">
      <button id="add-question" class="bg-primary text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition shadow-md">
        ➕ Add Question
      </button>
      <button id="undo-action" class="bg-danger text-white py-3 px-4 rounded-lg hover:bg-red-600 transition shadow-md">
        🔄 Undo Last Action
      </button>
    </div>

    <!-- Export -->
    <div class="grid grid-cols-2 gap-4 mt-8">
      <button id="save-progress" class="bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition shadow-md">
        💾 Save Progress
      </button>
      <button id="export-json" class="bg-accent text-white py-3 px-4 rounded-lg hover:bg-yellow-500 transition shadow-md">
        📁 Export JSON
      </button>
      <button id="export-latex" class="bg-secondary text-white py-3 px-4 rounded-lg hover:bg-purple-600 transition shadow-md">
        📜 Export LaTeX
      </button>
      <button id="export-pdf" class="bg-teal-500 text-white py-3 px-4 rounded-lg hover:bg-teal-600 transition shadow-md">
        📄 Export PDF
      </button>
      <button id="reset-page" class="bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition shadow-md col-span-2">
        🔄 Reset
      </button>
    </div>

    <!-- Help -->
    <div class="text-center mt-6">
      <a href="help.html" class="text-blue-500 underline hover:text-blue-700">📖 Need Help?</a>
    </div>
  </div>
</body>
</html>